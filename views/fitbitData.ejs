<html>
    <style>
        body {font-family: Arial;}
        
        /* Style the tab */
        .tab {
          overflow: hidden;
          border: 1px solid #ccc;
          background-color: #f1f1f1;
        }
        
        /* Style the buttons inside the tab */
        .tab button {
          background-color: inherit;
          float: left;
          border: none;
          outline: none;
          cursor: pointer;
          padding: 14px 16px;
          transition: 0.3s;
          font-size: 17px;
        }
        
        /* Change background color of buttons on hover */
        .tab button:hover {
          background-color: #ddd;
        }
        
        /* Create an active/current tablink class */
        .tab button.active {
          background-color: #ccc;
        }
        
        /* Style the tab content */
        .tabcontent {
          display: none;
          padding: 6px 12px;
          border: 1px solid #ccc;
          border-top: none;
        }
        </style>
    <body>

<h1>Select a user to view their heart, sleep, and activity biometrics</h1>


    <form method="POST" action="/doctor/fitbit/patientSelect">
      <% if(fitbitUsers != null){ %>
        <label for="userList">Select a patient:</label>
        <select name="userList" id="userList">
        <% for (user of fitbitUsers) { %>
            <option value="<%= user._id %>"><%= user.username %></option>
            <% } %>
          </select>
        
        <button type="submit" class="btn btn-primary mt-2">Submit</button> 
        <% } %>
    </form>
    
    <canvas id="myBarChart"
    width="380"
    height="180">
</canvas>
<script>

  // data sample for the chart
  let data = {
    labels: "<%= heartLabels %>",
    datasets: [{
      label: 'Sample Bar Chart',
      data: "<%= heartRate %>",
      backgroundColor: 'rgba(70, 192, 192, 0.6)',
      borderColor: 'rgba(150, 100, 255, 1)',
      borderWidth: 1
    }]
  };

  // Configuration options for the chart
  let options = {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  };

  // Get the canvas element
  let ctx = document.getElementById('myBarChart')
    .getContext('2d');

  // Create the bar chart
  let myBarChart = new Chart(ctx, {
    type: 'bar',
    data: data,
    options: options
  });
</script>  

    </body>
</html>
